# 📊 管理員儀表板圖表測試指南

## 🚀 測試步驟

### 1. 啟動應用程式
```bash
cd C:\my-booking-app-practice\booking
mvn spring-boot:run
```

### 2. 登入管理員
- 訪問：http://localhost:8080/login
- 帳號：`admin`
- 密碼：`password123`

### 3. 進入管理員儀表板
- 登入後自動導向，或訪問：http://localhost:8080/admin-dashboard

## ✅ 預期結果

### 頁面結構
1. **導航欄**：深色背景，右上角有登出按鈕
2. **標題區**：「歡迎回來，管理員」
3. **四張管理卡片**：
   - 訂單管理 (藍色)
   - 住宿管理 (綠色) 
   - 用戶管理 (淺藍)
   - 報表中心 (黃色)

4. **📊 數據分析儀表板**：
   - 標題和水平線
   
5. **第一排圖表**：
   - **左側 (4欄)**：訂單狀態分布圓餅圖
     - 藍色標題：「訂單狀態分布」
     - 圓餅圖：黃色(待確認)、綠色(已確認)、紅色(已取消)
   - **右側 (8欄)**：近30天訂單趨勢折線圖
     - 淺藍標題：「近 30 天訂單趨勢」
     - 折線圖：藍線(新增)、綠線(已確認)、紅虛線(已取消)

6. **第二排圖表**：
   - **左側 (6欄)**：熱門住宿橫條圖
     - 綠色標題：「熱門住宿 Top 5」
     - 橫向彩色條狀圖
   - **右側 (6欄)**：月度營收柱狀圖
     - 黃色標題：「月度營收趨勢」
     - 黃色柱狀圖，Y軸顯示NT$格式

### 互動功能
- **滑鼠移到圖表**：顯示詳細數值 tooltip
- **圓餅圖 tooltip**：顯示「標籤: X筆 (Y%)」
- **折線圖 tooltip**：顯示「標籤: X筆」
- **橫條圖 tooltip**：顯示「訂單數: X筆」
- **柱狀圖 tooltip**：顯示「營收: NT$ X」

## 🐛 故障排除

### 問題 1：圖表顯示空白
**檢查步驟**：
1. 按 F12 開啟開發者工具
2. 查看 Console 標籤是否有錯誤
3. 查看 Network 標籤，確認 `/api/statistics/admin/dashboard` 請求成功

**可能原因**：
- Chart.js 未載入：看到「Chart is not defined」錯誤
- API 權限問題：看到 403 Forbidden
- 資料格式問題：看到 JavaScript 錯誤

### 問題 2：圖表顯示但無資料
**檢查步驟**：
1. 在 Console 中查看是否有「統計資料載入成功」訊息
2. 檢查回傳的資料結構

**解決方法**：
- 確認資料庫中有訂單資料
- 重新啟動應用程式載入 data.sql

### 問題 3：部分圖表無法顯示
**可能原因**：
- Canvas 元素 ID 重複
- Chart.js 版本不相容
- 資料格式不正確

## 📋 成功檢查清單

- [ ] Chart.js CDN 正確載入
- [ ] 四個 canvas 元素存在且 ID 正確
- [ ] API `/api/statistics/admin/dashboard` 回應正常
- [ ] 圓餅圖顯示三種狀態分布
- [ ] 折線圖顯示時間趨勢
- [ ] 橫條圖顯示住宿排行
- [ ] 柱狀圖顯示月度營收
- [ ] 所有圖表支援 tooltip 互動
- [ ] 圖表自適應響應式布局
- [ ] 無 JavaScript 錯誤

## 🎯 測試資料驗證

如果看到的資料值都是 0，請：
1. 訪問首頁建立幾筆測試訂單
2. 使用不同狀態的訂單（確認、取消等）
3. 確保訂單的 created_at 日期在近期範圍內

完成測試後請回報結果！
